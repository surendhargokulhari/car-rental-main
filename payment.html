<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Multi Payment Form</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        background: linear-gradient(to top, #1e3c72 0%, #1e3c72 1%, #2a5298 100%);
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        flex-direction: column;
      }

      #paymentForm {
        background-color: #fff;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        width: 320px;
      }

      h2 {
        text-align: center;
        color: #333;
      }

      label {
        display: block;
        margin-top: 10px;
        font-weight: bold;
        color: #555;
      }

      input[type="text"],
      input[type="month"],
      input[type="submit"],
      select {
        width: 100%;
        padding: 10px;
        margin-top: 5px;
        border-radius: 5px;
        border: 1px solid #ccc;
        box-sizing: border-box;
      }

      input:focus,
      select:focus {
        border-color: #007bff;
        outline: none;
        box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);
      }

      input[type="submit"] {
        background-color: #007bff;
        color: white;
        border: none;
        cursor: pointer;
        margin-top: 20px;
      }

      input[type="submit"]:hover {
        background-color: #0056b3;
      }

      .hidden {
        display: none;
      }

      #successTick {
        margin-top: 20px;
        text-align: center;
      }

      #successTick img {
        width: 100px;
        height: auto;
      }

      #successTick p {
        color: green;
        font-weight: bold;
        margin-top: 10px;
      }

      @media (max-width: 600px) {
        #paymentForm {
          width: 90%;
        }
      }
    </style>
  </head>
  <body>
    <form id="paymentForm" onsubmit="return processPayment(event)">
      <h2>Choose Payment Method</h2>

      <label for="paymentMethod">Payment Method:</label>
      <select id="paymentMethod" onchange="togglePaymentFields()" required>
        <option value="">--Select--</option>
        <option value="card">Card</option>
        <option value="upi">UPI</option>
      </select>

      <!-- Card Payment -->
      <div id="cardFields" class="hidden">
        <label for="cardNumber">Card Number:</label>
        <input
          type="text"
          id="cardNumber"
          maxlength="16"
          pattern="\d{16}"
          required
          title="Enter a valid 16-digit card number"
        />

        <label for="expiryDate">Expiry Date:</label>
        <input type="month" id="expiryDate" required />

        <label for="cvv">CVV:</label>
        <input
          type="text"
          id="cvv"
          maxlength="4"
          pattern="\d{3,4}"
          required
          title="Enter a valid 3 or 4-digit CVV"
        />
      </div>

      <!-- UPI Payment -->
      <div id="upiFields" class="hidden">
        <label for="upiId">UPI ID:</label>
        <input
          type="text"
          id="upiId"
          pattern="^[\w.-]+@[\w.-]+$"
          title="Enter a valid UPI ID like name@bank"
          required
        />
      </div>

      <input type="submit" value="Pay Now" />
    </form>

    <!-- Success Tick Display -->
    <div id="successTick" class="hidden">
      <img
        src="https://cdn-icons-png.flaticon.com/512/190/190411.png"
        alt="Success"
      />
      <p>Payment Successful</p>
    </div>

    <script>
      function togglePaymentFields() {
        const method = document.getElementById("paymentMethod").value;
        const cardFields = document.getElementById("cardFields");
        const upiFields = document.getElementById("upiFields");

        cardFields.classList.add("hidden");
        upiFields.classList.add("hidden");

        if (method === "card") {
          cardFields.classList.remove("hidden");
          document.getElementById("upiId").removeAttribute("required");
        } else if (method === "upi") {
          upiFields.classList.remove("hidden");
          document.getElementById("cardNumber").removeAttribute("required");
          document.getElementById("expiryDate").removeAttribute("required");
          document.getElementById("cvv").removeAttribute("required");
        }
      }

      function processPayment(event) {
        event.preventDefault();
        const method = document.getElementById("paymentMethod").value;

        if (method === "card") {
          const cardNumber = document.getElementById("cardNumber").value.trim();
          const cvv = document.getElementById("cvv").value.trim();

          if (!/^\d{16}$/.test(cardNumber)) {
            alert("Please enter a valid 16-digit card number.");
            return false;
          }

          if (!/^\d{3,4}$/.test(cvv)) {
            alert("Please enter a valid 3 or 4-digit CVV.");
            return false;
          }

          showSuccessTick("Card Payment successful!");
        } else if (method === "upi") {
          const upiId = document.getElementById("upiId").value.trim();
          if (!/^[\w.-]+@[\w.-]+$/.test(upiId)) {
            alert("Please enter a valid UPI ID.");
            return false;
          }

          showSuccessTick("UPI Payment successful!");
        }

        // Reset form and hide fields
        document.getElementById("paymentForm").reset();
        togglePaymentFields();
        return true;
      }

      function showSuccessTick(message) {
        alert(message);
        const tick = document.getElementById("successTick");
        tick.classList.remove("hidden");

        setTimeout(() => {
          tick.classList.add("hidden");
        }, 3000);
      }
    </script>
  </body>
</html>
